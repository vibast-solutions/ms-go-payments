# App
APP_SERVICE_NAME=payments-service
APP_API_KEY=payments-app-api-key

# Internal auth service
AUTH_SERVICE_GRPC_ADDR=localhost:9090

# Servers
HTTP_HOST=0.0.0.0
HTTP_PORT=8080
GRPC_HOST=0.0.0.0
GRPC_PORT=9090

# Database
MYSQL_DSN=root:root@tcp(localhost:3306)/payments?parseTime=true
MYSQL_MAX_OPEN_CONNS=10
MYSQL_MAX_IDLE_CONNS=5
MYSQL_CONN_MAX_LIFETIME_MINUTES=30

# Logging
LOG_LEVEL=info

# Stripe provider
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_SIGNATURE_TOLERANCE_SECONDS=300
STRIPE_HTTP_TIMEOUT_SECONDS=10

# Public callback base URL exposed by an upstream gateway/proxy service
# The payments service appends /<callback_hash> to this base URL.
PAYMENTS_PROVIDER_CALLBACK_BASE_URL=https://gateway.internal.example.com/webhooks/providers/stripe

# Payments behavior
PAYMENTS_CALLBACK_MAX_ATTEMPTS=10
PAYMENTS_CALLBACK_RETRY_INTERVAL_MINUTES=5
PAYMENTS_CALLBACK_HTTP_TIMEOUT_SECONDS=10
PAYMENTS_PENDING_TIMEOUT_MINUTES=60
PAYMENTS_RECONCILE_STALE_AFTER_MINUTES=15
PAYMENTS_JOB_BATCH_SIZE=100

# Worker intervals
PAYMENTS_RECONCILE_INTERVAL_MINUTES=2
PAYMENTS_CALLBACK_DISPATCH_INTERVAL_MINUTES=1
PAYMENTS_EXPIRE_PENDING_INTERVAL_MINUTES=5
